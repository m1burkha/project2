<div class="dashboard">top dashboard</div>

<dx-select-box id="select-prefix"
               [dataSource]="['January', 'February', 'March', 'April']"
               placeholder="Select Month"
               [value]="prefix"
               (onValueChanged)="filterSelected($event)">
</dx-select-box>
<dx-data-grid
  id="gridContainer"
  [dataSource]="shiftList | async"
  keyExpr="id"
  [allowColumnReordering]="true"
  [columnAutoWidth]="true"
  (onRowInserting)="onAddSchedule($event)"
  (onRowUpdating)="onUpdateSchedule($event)"
  (onRowRemoving)="onDeleteSchedule($event)"
  (onEditingStart)="onRowEdit($event)"

  (onToolbarPreparing)="onToolbarPreparing($event)">

  <dxo-search-panel [visible]="true"></dxo-search-panel>
  <dxo-scrolling mode="infinite"></dxo-scrolling>
  <dxo-editing mode="row" [allowUpdating]="true" [allowDeleting]="true" [allowAdding]="true"></dxo-editing>
  <dxo-paging [enabled]="false"></dxo-paging>
  <dxo-load-panel [enabled]="true"></dxo-load-panel>
  <dxi-column dataField="id" [allowEditing]="false"></dxi-column>
  <dxi-column dataField="date" dataType="date" caption="Datum"></dxi-column>
  <div>
    <dxi-column dataField="{{employee1}}" cellTemplate="cellTemplate"></dxi-column>
    <div *dxTemplate="let d of 'cellTemplate'">
      {{d.text}}
      <dx-button text="shift item" (onclick)="showShiftItem()" style="float: right"></dx-button>
    </div>


  </div>
  <dxi-column dataField="{{employee2}}"></dxi-column>

  <div *dxTemplate="let data of 'totalGroupCount'">
    <div class="informer">
      <h2 class="count">{{totalCount}}</h2>
      <span class="name">Total Mitarbeiter</span>
    </div>
  </div>
  <!--<div *dxTemplate="let item of shiftItems">-->
  <!--<dx-button title="shift item" onclick="showPopup(item)"></dx-button>-->
  <!--</div>-->

</dx-data-grid>

<dx-popup
  class="popup"
  [width]="650"
  [height]="380"
  [showTitle]="true"
  title="Information"
  [dragEnabled]="false"
  [closeOnOutsideClick]="true"
  [(visible)]="showpopup">
<div *dxTemplate="let item of 'content'">
  <div class="popup-container">
    <label>Time from</label>
    <dx-text-box class="popup-content">{{item}}</dx-text-box>
    <label>Time to</label>
    <dx-text-box class="popup-content">{{item}}</dx-text-box>
  </div>
  <div class="popup-container">
    <label>Month</label>
    <dx-text-box class="popup-content">{{item}}</dx-text-box>
    <label>Shift hours</label>
    <dx-text-box class="popup-content">{{item}}</dx-text-box>
  </div>
  <div class="popup-container">
    <label>Shift Type</label>
    <dx-select-box class="popup-content" (onValueChanged)="onSelectType($event)">>
      <dx-lookup [dataSource]="shiftTypes" placeholder="Shift Types"  ></dx-lookup>
    </dx-select-box>
    <div class="popup-content"></div>
  </div>
</div>
  <dxi-toolbar-item  [toolbar]="'bottom'" [location]="'after'" [widget]="'dxButton'" [visible]="'true'" [options]="buttonOptions"></dxi-toolbar-item>
</dx-popup>


<!--<dxi-column dataField="name" caption="{{'employee.caption' | translate }}"></dxi-column>-->

<!--<dxo-selection mode="row" [selectAllMode]="allPages" [showCheckBoxesMode]="onClick"></dxo-selection>-->
<!--<dxo-column-chooser [enabled]="true"></dxo-column-chooser>-->
<!--<dx-date-box-->
<!--[min]="minDate"-->
<!--[max]="maxDate"-->
<!--[(value)]="currentDate">-->
<!--</dx-date-box>-->



